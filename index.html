<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Amazon Box Clicker</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: Arial, sans-serif;
      background: linear-gradient(to top, #111, #333);
      color: white;
      user-select: none;
    }

    #score {
      position: absolute;
      top: 10px;
      left: 20px;
      font-size: 24px;
      font-weight: bold;
      z-index: 10;
    }

    #gameCanvas {
      display: block;
      background: #1a1a1a;
    }

    #gameOver {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 32px;
      background: rgba(0, 0, 0, 0.85);
      padding: 30px;
      border: 2px solid #f90;
      border-radius: 10px;
      display: none;
      text-align: center;
      z-index: 20;
      width: 300px;
    }

    button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 18px;
      background: #f90;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: #111;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div id="score">ðŸ“¦ Score: 0</div>
  <canvas id="gameCanvas" width="800" height="600"></canvas>
  <div id="gameOver">
    <p>ðŸ’€ Too many boxes missed!</p>
    <p id="finalScore"></p>
    <button onclick="restartGame()">Play Again</button>
  </div>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const scoreEl = document.getElementById("score");
    const gameOverEl = document.getElementById("gameOver");
    const finalScoreEl = document.getElementById("finalScore");

    const boxImg = new Image();
    boxImg.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_box.svg/320px-Amazon_box.svg.png";

    let boxes = [];
    let score = 0;
    let missed = 0;
    let gameRunning = true;
    let speedMultiplier = 1;

    // Spawn a box every second
    function spawnBox() {
      if (!gameRunning) return;
      boxes.push({
        x: Math.random() * (canvas.width - 60),
        y: -60,
        size: 60,
        speed: 2 + Math.random() * 2 * speedMultiplier
      });
    }

    // Game update loop
    function update() {
      if (!gameRunning) return;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      for (let i = boxes.length - 1; i >= 0; i--) {
        const box = boxes[i];
        box.y += box.speed;

        ctx.drawImage(boxImg, box.x, box.y, box.size, box.size);

        if (box.y > canvas.height) {
          boxes.splice(i, 1);
          missed++;
          if (missed >= 5) {
            endGame();
            return;
          }
        }
      }

      scoreEl.textContent = `ðŸ“¦ Score: ${score}`;

      requestAnimationFrame(update);
    }

    // Click handler
    canvas.addEventListener("click", e => {
      if (!gameRunning) return;

      const rect = canvas.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;

      for (let i = boxes.length - 1; i >= 0; i--) {
        const box = boxes[i];
        if (
          mouseX >= box.x &&
          mouseX <= box.x + box.size &&
          mouseY >= box.y &&
          mouseY <= box.y + box.size
        ) {
          boxes.splice(i, 1);
          score++;
          speedMultiplier += 0.05; // Increase difficulty slightly
          return;
        }
      }
    });

    function endGame() {
      gameRunning = false;
      gameOverEl.style.display = "block";
      finalScoreEl.textContent = `Final Score: ${score}`;
    }

    function restartGame() {
      score = 0;
      missed = 0;
      boxes = [];
      speedMultiplier = 1;
      gameRunning = true;
      gameOverEl.style.display = "none";
      update();
    }

    boxImg.onload = () => {
      update();
      setInterval(() => {
        if (gameRunning) spawnBox();
      }, 1000);
    };
  </script>
</body>
</html>
